# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
- main

pool:
  vmImage: ubuntu-latest

jobs:
- job: job1
  steps:
    - script: echo Hello, world!
    - bash: java --version
      displayName: 'Run a one-line script'
    - task: JavaToolInstaller@0
      inputs:
        versionSpec: '17'
        jdkArchitectureOption: 'x64'
        jdkSourceOption: 'PreInstalled'
    - bash: sudo apt update
    - bash: sudo apt install maven
    - bash: java -version
    - bash: mvn -version
    - bash: ls $(DefaultWorkingDirectory)
    - bash: cd $(DefaultWorkingDirectory)/app-1
    - bash: ls -la
    - bash: mvn clean package
    - bash: ls -R $(DefaultWorkingDirectory)